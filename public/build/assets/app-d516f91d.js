var pn=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Pa=pn((_,y)=>{/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Gt(){return function t(){t.called=!0}}/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class vt{constructor(e,n){this.source=e,this.name=n,this.path=[],this.stop=Gt(),this.off=Gt()}}/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const b=new Array(256).fill().map((t,e)=>("0"+e.toString(16)).slice(-2));function jt(){const t=Math.random()*4294967296>>>0,e=Math.random()*4294967296>>>0,n=Math.random()*4294967296>>>0,i=Math.random()*4294967296>>>0;return"e"+b[t>>0&255]+b[t>>8&255]+b[t>>16&255]+b[t>>24&255]+b[e>>0&255]+b[e>>8&255]+b[e>>16&255]+b[e>>24&255]+b[n>>0&255]+b[n>>8&255]+b[n>>16&255]+b[n>>24&255]+b[i>>0&255]+b[i>>8&255]+b[i>>16&255]+b[i>>24&255]}/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const bn={get(t){return typeof t!="number"?this[t]||this.normal:t},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const gn="https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html";class h extends Error{constructor(e,n,i){e=_n(e),i&&(e+=" "+JSON.stringify(i)),super(e),this.name="CKEditorError",this.context=n,this.data=i}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,n){if(e.is&&e.is("CKEditorError"))throw e;const i=new h(e.message,n);throw i.stack=e.stack,i}}function _n(t){const e=t.match(/^([^:]+):/);return e?t+` Read more: ${gn}#error-${e[1]}
`:t}/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const yn="19.1.1",Ht=typeof window=="object"?window:global;if(Ht.CKEDITOR_VERSION)throw new h("ckeditor-duplicated-modules: Some CKEditor 5 modules are duplicated.",null);Ht.CKEDITOR_VERSION=yn;/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const A=Symbol("listeningTo"),Tt=Symbol("emitterId"),$={on(t,e,n={}){this.listenTo(this,t,e,n)},once(t,e,n){let i=!1;const r=function(s,...o){i||(i=!0,s.off(),e.call(this,s,...o))};this.listenTo(this,t,r,n)},off(t,e){this.stopListening(this,t,e)},listenTo(t,e,n,i={}){let r,s;this[A]||(this[A]={});const o=this[A];_t(t)||$e(t);const a=_t(t);(r=o[a])||(r=o[a]={emitter:t,callbacks:{}}),(s=r.callbacks[e])||(s=r.callbacks[e]=[]),s.push(n),vn(t,e);const c=It(t,e),l=bn.get(i.priority),p={callback:n,priority:l};for(const u of c){let v=!1;for(let m=0;m<u.length;m++)if(u[m].priority<l){u.splice(m,0,p),v=!0;break}v||u.push(p)}},stopListening(t,e,n){const i=this[A];let r=t&&_t(t);const s=i&&r&&i[r],o=s&&e&&s.callbacks[e];if(!(!i||t&&!s||e&&!o))if(n)yt(t,e,n);else if(o){for(;n=o.pop();)yt(t,e,n);delete s.callbacks[e]}else if(s){for(e in s.callbacks)this.stopListening(t,e);delete i[r]}else{for(r in i)this.stopListening(i[r].emitter);delete this[A]}},fire(t,...e){try{const n=t instanceof vt?t:new vt(this,t),i=n.name;let r=je(this,i);if(n.path.push(this),r){const s=[n,...e];r=Array.from(r);for(let o=0;o<r.length&&(r[o].callback.apply(this,s),n.off.called&&(delete n.off.called,yt(this,i,r[o].callback)),!n.stop.called);o++);}if(this._delegations){const s=this._delegations.get(i),o=this._delegations.get("*");s&&qt(s,n,e),o&&qt(o,n,e)}return n.return}catch(n){h.rethrowUnexpectedError(n,this)}},delegate(...t){return{to:(e,n)=>{this._delegations||(this._delegations=new Map),t.forEach(i=>{const r=this._delegations.get(i);r?r.set(e,n):this._delegations.set(i,new Map([[e,n]]))})}}},stopDelegating(t,e){if(this._delegations)if(!t)this._delegations.clear();else if(!e)this._delegations.delete(t);else{const n=this._delegations.get(t);n&&n.delete(e)}}};function mn(t,e){return t[A]&&t[A][e]?t[A][e].emitter:null}function $e(t,e){t[Tt]||(t[Tt]=e||jt())}function _t(t){return t[Tt]}function Se(t){return t._events||Object.defineProperty(t,"_events",{value:{}}),t._events}function wn(){return{callbacks:[],childEvents:[]}}function vn(t,e){const n=Se(t);if(n[e])return;let i=e,r=null;const s=[];for(;i!==""&&!n[i];)n[i]=wn(),s.push(n[i]),r&&n[i].childEvents.push(r),r=i,i=i.substr(0,i.lastIndexOf(":"));if(i!==""){for(const o of s)o.callbacks=n[i].callbacks.slice();n[i].childEvents.push(r)}}function It(t,e){const n=Se(t)[e];if(!n)return[];let i=[n.callbacks];for(let r=0;r<n.childEvents.length;r++){const s=It(t,n.childEvents[r]);i=i.concat(s)}return i}function je(t,e){let n;return!t._events||!(n=t._events[e])||!n.callbacks.length?e.indexOf(":")>-1?je(t,e.substr(0,e.lastIndexOf(":"))):null:n.callbacks}function qt(t,e,n){for(let[i,r]of t){r?typeof r=="function"&&(r=r(e.name)):r=e.name;const s=new vt(e.source,r);s.path=[...e.path],i.fire(s,...n)}}function yt(t,e,n){const i=It(t,e);for(const r of i)for(let s=0;s<r.length;s++)r[s].callback==n&&(r.splice(s,1),s--)}var Tn=typeof global=="object"&&global&&global.Object===Object&&global;const Ie=Tn;var xn=typeof self=="object"&&self&&self.Object===Object&&self,En=Ie||xn||Function("return this")();const T=En;var An=T.Symbol;const M=An;var Fe=Object.prototype,Cn=Fe.hasOwnProperty,On=Fe.toString,U=M?M.toStringTag:void 0;function Pn(t){var e=Cn.call(t,U),n=t[U];try{t[U]=void 0;var i=!0}catch{}var r=On.call(t);return i&&(e?t[U]=n:delete t[U]),r}var $n=Object.prototype,Sn=$n.toString;function jn(t){return Sn.call(t)}var In="[object Null]",Fn="[object Undefined]",Xt=M?M.toStringTag:void 0;function R(t){return t==null?t===void 0?Fn:In:Xt&&Xt in Object(t)?Pn(t):jn(t)}function j(t){return t!=null&&typeof t=="object"}var kn=Array.isArray;const Ft=kn;function C(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function ke(t){return t}var Ln="[object AsyncFunction]",Mn="[object Function]",Dn="[object GeneratorFunction]",Bn="[object Proxy]";function et(t){if(!C(t))return!1;var e=R(t);return e==Mn||e==Dn||e==Ln||e==Bn}var Rn=T["__core-js_shared__"];const mt=Rn;var Yt=function(){var t=/[^.]+$/.exec(mt&&mt.keys&&mt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Nn(t){return!!Yt&&Yt in t}var Vn=Function.prototype,Un=Vn.toString;function I(t){if(t!=null){try{return Un.call(t)}catch{}try{return t+""}catch{}}return""}var zn=/[\\^$.*+?()[\]{}|]/g,Wn=/^\[object .+?Constructor\]$/,Kn=Function.prototype,Gn=Object.prototype,Hn=Kn.toString,qn=Gn.hasOwnProperty,Xn=RegExp("^"+Hn.call(qn).replace(zn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Yn(t){if(!C(t)||Nn(t))return!1;var e=et(t)?Xn:Wn;return e.test(I(t))}function Jn(t,e){return t==null?void 0:t[e]}function F(t,e){var n=Jn(t,e);return Yn(n)?n:void 0}var Zn=F(T,"WeakMap");const xt=Zn;var Jt=Object.create,Qn=function(){function t(){}return function(e){if(!C(e))return{};if(Jt)return Jt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const ti=Qn;function ei(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ni(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}var ii=800,ri=16,si=Date.now;function oi(t){var e=0,n=0;return function(){var i=si(),r=ri-(i-n);if(n=i,r>0){if(++e>=ii)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function ai(t){return function(){return t}}var ci=function(){try{var t=F(Object,"defineProperty");return t({},"",{}),t}catch{}}();const nt=ci;var li=nt?function(t,e){return nt(t,"toString",{configurable:!0,enumerable:!1,value:ai(e),writable:!0})}:ke;const hi=li;var ui=oi(hi);const fi=ui;function di(t,e){for(var n=-1,i=t==null?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t}var pi=9007199254740991,bi=/^(?:0|[1-9]\d*)$/;function Le(t,e){var n=typeof t;return e=e??pi,!!e&&(n=="number"||n!="symbol"&&bi.test(t))&&t>-1&&t%1==0&&t<e}function Me(t,e,n){e=="__proto__"&&nt?nt(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function kt(t,e){return t===e||t!==t&&e!==e}var gi=Object.prototype,_i=gi.hasOwnProperty;function De(t,e,n){var i=t[e];(!(_i.call(t,e)&&kt(i,n))||n===void 0&&!(e in t))&&Me(t,e,n)}function H(t,e,n,i){var r=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],c=i?i(n[a],t[a],a,n,t):void 0;c===void 0&&(c=t[a]),r?Me(n,a,c):De(n,a,c)}return n}var Zt=Math.max;function yi(t,e,n){return e=Zt(e===void 0?t.length-1:e,0),function(){for(var i=arguments,r=-1,s=Zt(i.length-e,0),o=Array(s);++r<s;)o[r]=i[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=i[r];return a[e]=n(o),ei(t,this,a)}}function mi(t,e){return fi(yi(t,e,ke),t+"")}var wi=9007199254740991;function Be(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=wi}function Lt(t){return t!=null&&Be(t.length)&&!et(t)}function vi(t,e,n){if(!C(n))return!1;var i=typeof e;return(i=="number"?Lt(n)&&Le(e,n.length):i=="string"&&e in n)?kt(n[e],t):!1}function Ti(t){return mi(function(e,n){var i=-1,r=n.length,s=r>1?n[r-1]:void 0,o=r>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(r--,s):void 0,o&&vi(n[0],n[1],o)&&(s=r<3?void 0:s,r=1),e=Object(e);++i<r;){var a=n[i];a&&t(e,a,i,s)}return e})}var xi=Object.prototype;function Mt(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||xi;return t===n}function Ei(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}var Ai="[object Arguments]";function Qt(t){return j(t)&&R(t)==Ai}var Re=Object.prototype,Ci=Re.hasOwnProperty,Oi=Re.propertyIsEnumerable,Pi=Qt(function(){return arguments}())?Qt:function(t){return j(t)&&Ci.call(t,"callee")&&!Oi.call(t,"callee")};const $i=Pi;function Si(){return!1}var Ne=typeof _=="object"&&_&&!_.nodeType&&_,te=Ne&&typeof y=="object"&&y&&!y.nodeType&&y,ji=te&&te.exports===Ne,ee=ji?T.Buffer:void 0,Ii=ee?ee.isBuffer:void 0,Fi=Ii||Si;const Ve=Fi;var ki="[object Arguments]",Li="[object Array]",Mi="[object Boolean]",Di="[object Date]",Bi="[object Error]",Ri="[object Function]",Ni="[object Map]",Vi="[object Number]",Ui="[object Object]",zi="[object RegExp]",Wi="[object Set]",Ki="[object String]",Gi="[object WeakMap]",Hi="[object ArrayBuffer]",qi="[object DataView]",Xi="[object Float32Array]",Yi="[object Float64Array]",Ji="[object Int8Array]",Zi="[object Int16Array]",Qi="[object Int32Array]",tr="[object Uint8Array]",er="[object Uint8ClampedArray]",nr="[object Uint16Array]",ir="[object Uint32Array]",d={};d[Xi]=d[Yi]=d[Ji]=d[Zi]=d[Qi]=d[tr]=d[er]=d[nr]=d[ir]=!0;d[ki]=d[Li]=d[Hi]=d[Mi]=d[qi]=d[Di]=d[Bi]=d[Ri]=d[Ni]=d[Vi]=d[Ui]=d[zi]=d[Wi]=d[Ki]=d[Gi]=!1;function rr(t){return j(t)&&Be(t.length)&&!!d[R(t)]}function Dt(t){return function(e){return t(e)}}var Ue=typeof _=="object"&&_&&!_.nodeType&&_,z=Ue&&typeof y=="object"&&y&&!y.nodeType&&y,sr=z&&z.exports===Ue,wt=sr&&Ie.process,or=function(){try{var t=z&&z.require&&z.require("util").types;return t||wt&&wt.binding&&wt.binding("util")}catch{}}();const D=or;var ne=D&&D.isTypedArray,ar=ne?Dt(ne):rr;const cr=ar;var lr=Object.prototype,hr=lr.hasOwnProperty;function ze(t,e){var n=Ft(t),i=!n&&$i(t),r=!n&&!i&&Ve(t),s=!n&&!i&&!r&&cr(t),o=n||i||r||s,a=o?Ei(t.length,String):[],c=a.length;for(var l in t)(e||hr.call(t,l))&&!(o&&(l=="length"||r&&(l=="offset"||l=="parent")||s&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Le(l,c)))&&a.push(l);return a}function We(t,e){return function(n){return t(e(n))}}var ur=We(Object.keys,Object);const fr=ur;var dr=Object.prototype,pr=dr.hasOwnProperty;function br(t){if(!Mt(t))return fr(t);var e=[];for(var n in Object(t))pr.call(t,n)&&n!="constructor"&&e.push(n);return e}function Bt(t){return Lt(t)?ze(t):br(t)}function gr(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var _r=Object.prototype,yr=_r.hasOwnProperty;function mr(t){if(!C(t))return gr(t);var e=Mt(t),n=[];for(var i in t)i=="constructor"&&(e||!yr.call(t,i))||n.push(i);return n}function ct(t){return Lt(t)?ze(t,!0):mr(t)}var wr=Ti(function(t,e){H(e,ct(e),t)});const lt=wr;var vr=F(Object,"create");const W=vr;function Tr(){this.__data__=W?W(null):{},this.size=0}function xr(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Er="__lodash_hash_undefined__",Ar=Object.prototype,Cr=Ar.hasOwnProperty;function Or(t){var e=this.__data__;if(W){var n=e[t];return n===Er?void 0:n}return Cr.call(e,t)?e[t]:void 0}var Pr=Object.prototype,$r=Pr.hasOwnProperty;function Sr(t){var e=this.__data__;return W?e[t]!==void 0:$r.call(e,t)}var jr="__lodash_hash_undefined__";function Ir(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=W&&e===void 0?jr:e,this}function S(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}S.prototype.clear=Tr;S.prototype.delete=xr;S.prototype.get=Or;S.prototype.has=Sr;S.prototype.set=Ir;function Fr(){this.__data__=[],this.size=0}function ht(t,e){for(var n=t.length;n--;)if(kt(t[n][0],e))return n;return-1}var kr=Array.prototype,Lr=kr.splice;function Mr(t){var e=this.__data__,n=ht(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():Lr.call(e,n,1),--this.size,!0}function Dr(t){var e=this.__data__,n=ht(e,t);return n<0?void 0:e[n][1]}function Br(t){return ht(this.__data__,t)>-1}function Rr(t,e){var n=this.__data__,i=ht(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}function x(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}x.prototype.clear=Fr;x.prototype.delete=Mr;x.prototype.get=Dr;x.prototype.has=Br;x.prototype.set=Rr;var Nr=F(T,"Map");const K=Nr;function Vr(){this.size=0,this.__data__={hash:new S,map:new(K||x),string:new S}}function Ur(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function ut(t,e){var n=t.__data__;return Ur(e)?n[typeof e=="string"?"string":"hash"]:n.map}function zr(t){var e=ut(this,t).delete(t);return this.size-=e?1:0,e}function Wr(t){return ut(this,t).get(t)}function Kr(t){return ut(this,t).has(t)}function Gr(t,e){var n=ut(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function N(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}N.prototype.clear=Vr;N.prototype.delete=zr;N.prototype.get=Wr;N.prototype.has=Kr;N.prototype.set=Gr;function Ke(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}var Hr=We(Object.getPrototypeOf,Object);const Rt=Hr;var qr="[object Object]",Xr=Function.prototype,Yr=Object.prototype,Ge=Xr.toString,Jr=Yr.hasOwnProperty,Zr=Ge.call(Object);function Qr(t){if(!j(t)||R(t)!=qr)return!1;var e=Rt(t);if(e===null)return!0;var n=Jr.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Ge.call(n)==Zr}function ts(){this.__data__=new x,this.size=0}function es(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function ns(t){return this.__data__.get(t)}function is(t){return this.__data__.has(t)}var rs=200;function ss(t,e){var n=this.__data__;if(n instanceof x){var i=n.__data__;if(!K||i.length<rs-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new N(i)}return n.set(t,e),this.size=n.size,this}function V(t){var e=this.__data__=new x(t);this.size=e.size}V.prototype.clear=ts;V.prototype.delete=es;V.prototype.get=ns;V.prototype.has=is;V.prototype.set=ss;function os(t,e){return t&&H(e,Bt(e),t)}function as(t,e){return t&&H(e,ct(e),t)}var He=typeof _=="object"&&_&&!_.nodeType&&_,ie=He&&typeof y=="object"&&y&&!y.nodeType&&y,cs=ie&&ie.exports===He,re=cs?T.Buffer:void 0,se=re?re.allocUnsafe:void 0;function ls(t,e){if(e)return t.slice();var n=t.length,i=se?se(n):new t.constructor(n);return t.copy(i),i}function hs(t,e){for(var n=-1,i=t==null?0:t.length,r=0,s=[];++n<i;){var o=t[n];e(o,n,t)&&(s[r++]=o)}return s}function qe(){return[]}var us=Object.prototype,fs=us.propertyIsEnumerable,oe=Object.getOwnPropertySymbols,ds=oe?function(t){return t==null?[]:(t=Object(t),hs(oe(t),function(e){return fs.call(t,e)}))}:qe;const Nt=ds;function ps(t,e){return H(t,Nt(t),e)}var bs=Object.getOwnPropertySymbols,gs=bs?function(t){for(var e=[];t;)Ke(e,Nt(t)),t=Rt(t);return e}:qe;const Xe=gs;function _s(t,e){return H(t,Xe(t),e)}function Ye(t,e,n){var i=e(t);return Ft(t)?i:Ke(i,n(t))}function ys(t){return Ye(t,Bt,Nt)}function ms(t){return Ye(t,ct,Xe)}var ws=F(T,"DataView");const Et=ws;var vs=F(T,"Promise");const At=vs;var Ts=F(T,"Set");const Ct=Ts;var ae="[object Map]",xs="[object Object]",ce="[object Promise]",le="[object Set]",he="[object WeakMap]",ue="[object DataView]",Es=I(Et),As=I(K),Cs=I(At),Os=I(Ct),Ps=I(xt),P=R;(Et&&P(new Et(new ArrayBuffer(1)))!=ue||K&&P(new K)!=ae||At&&P(At.resolve())!=ce||Ct&&P(new Ct)!=le||xt&&P(new xt)!=he)&&(P=function(t){var e=R(t),n=e==xs?t.constructor:void 0,i=n?I(n):"";if(i)switch(i){case Es:return ue;case As:return ae;case Cs:return ce;case Os:return le;case Ps:return he}return e});const Vt=P;var $s=Object.prototype,Ss=$s.hasOwnProperty;function js(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Ss.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var Is=T.Uint8Array;const fe=Is;function Ut(t){var e=new t.constructor(t.byteLength);return new fe(e).set(new fe(t)),e}function Fs(t,e){var n=e?Ut(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var ks=/\w*$/;function Ls(t){var e=new t.constructor(t.source,ks.exec(t));return e.lastIndex=t.lastIndex,e}var de=M?M.prototype:void 0,pe=de?de.valueOf:void 0;function Ms(t){return pe?Object(pe.call(t)):{}}function Ds(t,e){var n=e?Ut(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Bs="[object Boolean]",Rs="[object Date]",Ns="[object Map]",Vs="[object Number]",Us="[object RegExp]",zs="[object Set]",Ws="[object String]",Ks="[object Symbol]",Gs="[object ArrayBuffer]",Hs="[object DataView]",qs="[object Float32Array]",Xs="[object Float64Array]",Ys="[object Int8Array]",Js="[object Int16Array]",Zs="[object Int32Array]",Qs="[object Uint8Array]",to="[object Uint8ClampedArray]",eo="[object Uint16Array]",no="[object Uint32Array]";function io(t,e,n){var i=t.constructor;switch(e){case Gs:return Ut(t);case Bs:case Rs:return new i(+t);case Hs:return Fs(t,n);case qs:case Xs:case Ys:case Js:case Zs:case Qs:case to:case eo:case no:return Ds(t,n);case Ns:return new i;case Vs:case Ws:return new i(t);case Us:return Ls(t);case zs:return new i;case Ks:return Ms(t)}}function ro(t){return typeof t.constructor=="function"&&!Mt(t)?ti(Rt(t)):{}}var so="[object Map]";function oo(t){return j(t)&&Vt(t)==so}var be=D&&D.isMap,ao=be?Dt(be):oo;const co=ao;var lo="[object Set]";function ho(t){return j(t)&&Vt(t)==lo}var ge=D&&D.isSet,uo=ge?Dt(ge):ho;const fo=uo;var po=1,bo=2,go=4,Je="[object Arguments]",_o="[object Array]",yo="[object Boolean]",mo="[object Date]",wo="[object Error]",Ze="[object Function]",vo="[object GeneratorFunction]",To="[object Map]",xo="[object Number]",Qe="[object Object]",Eo="[object RegExp]",Ao="[object Set]",Co="[object String]",Oo="[object Symbol]",Po="[object WeakMap]",$o="[object ArrayBuffer]",So="[object DataView]",jo="[object Float32Array]",Io="[object Float64Array]",Fo="[object Int8Array]",ko="[object Int16Array]",Lo="[object Int32Array]",Mo="[object Uint8Array]",Do="[object Uint8ClampedArray]",Bo="[object Uint16Array]",Ro="[object Uint32Array]",f={};f[Je]=f[_o]=f[$o]=f[So]=f[yo]=f[mo]=f[jo]=f[Io]=f[Fo]=f[ko]=f[Lo]=f[To]=f[xo]=f[Qe]=f[Eo]=f[Ao]=f[Co]=f[Oo]=f[Mo]=f[Do]=f[Bo]=f[Ro]=!0;f[wo]=f[Ze]=f[Po]=!1;function Q(t,e,n,i,r,s){var o,a=e&po,c=e&bo,l=e&go;if(n&&(o=r?n(t,i,r,s):n(t)),o!==void 0)return o;if(!C(t))return t;var p=Ft(t);if(p){if(o=js(t),!a)return ni(t,o)}else{var u=Vt(t),v=u==Ze||u==vo;if(Ve(t))return ls(t,a);if(u==Qe||u==Je||v&&!r){if(o=c||v?{}:ro(t),!a)return c?_s(t,as(o,t)):ps(t,os(o,t))}else{if(!f[u])return r?t:{};o=io(t,u,a)}}s||(s=new V);var m=s.get(t);if(m)return m;s.set(t,o),fo(t)?t.forEach(function(E){o.add(Q(E,e,n,E,t,s))}):co(t)&&t.forEach(function(E,O){o.set(O,Q(E,e,n,O,t,s))});var X=l?c?ms:ys:c?ct:Bt,Kt=p?void 0:X(t);return di(Kt||t,function(E,O){Kt&&(O=E,E=t[O]),De(o,O,Q(E,e,n,O,t,s))}),o}var No=1,Vo=4;function Uo(t,e){return e=typeof e=="function"?e:void 0,Q(t,No|Vo,e)}function tn(t){return j(t)&&t.nodeType===1&&!Qr(t)}/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const it=Symbol("observableProperties"),ft=Symbol("boundObservables"),rt=Symbol("boundProperties"),k={set(t,e){if(C(t)){Object.keys(t).forEach(i=>{this.set(i,t[i])},this);return}_e(this);const n=this[it];if(t in this&&!n.has(t))throw new h("observable-set-cannot-override: Cannot override an existing property.",this);Object.defineProperty(this,t,{enumerable:!0,configurable:!0,get(){return n.get(t)},set(i){const r=n.get(t);let s=this.fire("set:"+t,t,i,r);s===void 0&&(s=i),(r!==s||!n.has(t))&&(n.set(t,s),this.fire("change:"+t,t,s,r))}}),this[t]=e},bind(...t){if(!t.length||!ye(t))throw new h("observable-bind-wrong-properties: All properties must be strings.",this);if(new Set(t).size!==t.length)throw new h("observable-bind-duplicate-properties: Properties must be unique.",this);_e(this);const e=this[rt];t.forEach(i=>{if(e.has(i))throw new h("observable-bind-rebind: Cannot bind the same property more than once.",this)});const n=new Map;return t.forEach(i=>{const r={property:i,to:[]};e.set(i,r),n.set(i,r)}),{to:zo,toMany:Wo,_observable:this,_bindProperties:t,_to:[],_bindings:n}},unbind(...t){if(!this[it])return;const e=this[rt],n=this[ft];if(t.length){if(!ye(t))throw new h("observable-unbind-wrong-properties: Properties must be strings.",this);t.forEach(i=>{const r=e.get(i);if(!r)return;let s,o,a,c;r.to.forEach(l=>{s=l[0],o=l[1],a=n.get(s),c=a[o],c.delete(r),c.size||delete a[o],Object.keys(a).length||(n.delete(s),this.stopListening(s,"change"))}),e.delete(i)})}else n.forEach((i,r)=>{this.stopListening(r,"change")}),n.clear(),e.clear()},decorate(t){const e=this[t];if(!e)throw new h("observablemixin-cannot-decorate-undefined: Cannot decorate an undefined method.",this,{object:this,methodName:t});this.on(t,(n,i)=>{n.return=e.apply(this,i)}),this[t]=function(...n){return this.fire(t,n)}}};lt(k,$);function _e(t){t[it]||(Object.defineProperty(t,it,{value:new Map}),Object.defineProperty(t,ft,{value:new Map}),Object.defineProperty(t,rt,{value:new Map}))}function zo(...t){const e=Go(...t),n=Array.from(this._bindings.keys()),i=n.length;if(!e.callback&&e.to.length>1)throw new h("observable-bind-to-no-callback: Binding multiple observables only possible with callback.",this);if(i>1&&e.callback)throw new h("observable-bind-to-extra-callback: Cannot bind multiple properties and use a callback in one binding.",this);e.to.forEach(r=>{if(r.properties.length&&r.properties.length!==i)throw new h("observable-bind-to-properties-length: The number of properties must match.",this);r.properties.length||(r.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(n[0]).callback=e.callback),Xo(this._observable,this._to),qo(this),this._bindProperties.forEach(r=>{en(this._observable,r)})}function Wo(t,e,n){if(this._bindings.size>1)throw new h("observable-bind-to-many-not-one-binding: Cannot bind multiple properties with toMany().",this);this.to(...Ko(t,e),n)}function Ko(t,e){const n=t.map(i=>[i,e]);return Array.prototype.concat.apply([],n)}function ye(t){return t.every(e=>typeof e=="string")}function Go(...t){if(!t.length)throw new h("observable-bind-to-parse-error: Invalid argument syntax in `to()`.",null);const e={to:[]};let n;return typeof t[t.length-1]=="function"&&(e.callback=t.pop()),t.forEach(i=>{if(typeof i=="string")n.properties.push(i);else if(typeof i=="object")n={observable:i,properties:[]},e.to.push(n);else throw new h("observable-bind-to-parse-error: Invalid argument syntax in `to()`.",null)}),e}function Ho(t,e,n,i){const r=t[ft],s=r.get(n),o=s||{};o[i]||(o[i]=new Set),o[i].add(e),s||r.set(n,o)}function qo(t){let e;t._bindings.forEach((n,i)=>{t._to.forEach(r=>{e=r.properties[n.callback?0:t._bindProperties.indexOf(i)],n.to.push([r.observable,e]),Ho(t._observable,n,r.observable,e)})})}function en(t,e){const i=t[rt].get(e);let r;i.callback?r=i.callback.apply(t,i.to.map(s=>s[0][s[1]])):(r=i.to[0],r=r[0][r[1]]),t.hasOwnProperty(e)?t[e]=r:t.set(e,r)}function Xo(t,e){e.forEach(n=>{const i=t[ft];let r;i.get(n.observable)||t.listenTo(n.observable,"change",(s,o)=>{r=i.get(n.observable)[o],r&&r.forEach(a=>{en(t,a.property)})})})}/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function w(t,...e){e.forEach(n=>{Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n)).forEach(i=>{if(i in t.prototype)return;const r=Object.getOwnPropertyDescriptor(n,i);r.enumerable=!1,Object.defineProperty(t.prototype,i,r)})})}/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Yo{constructor(e){this.editor=e,this.set("isEnabled",!0),this._disableStack=new Set}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",me,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",me),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}w(Yo,k);function me(t){t.return=!1,t.stop()}/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Jo{constructor(e){this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.on("execute",n=>{this.isEnabled||n.stop()},{priority:"high"}),this.listenTo(e,"change:isReadOnly",(n,i,r)=>{r?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",we,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",we),this.refresh())}execute(){}destroy(){this.stopListening()}}w(Jo,k);function we(t){t.return=!1,t.stop()}/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ot(t){return!!(t&&t[Symbol.iterator])}/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class dt{constructor(e={},n={}){const i=Ot(e);if(i||(n=e),this._items=[],this._itemMap=new Map,this._idProperty=n.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],i)for(const r of e)this._items.push(r),this._itemMap.set(this._getItemIdBeforeAdding(r),r)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,n){const i=this._getItemIdBeforeAdding(e);if(n===void 0)n=this._items.length;else if(n>this._items.length||n<0)throw new h("collection-add-item-invalid-index",this);return this._items.splice(n,0,e),this._itemMap.set(i,e),this.fire("add",e,n),this}get(e){let n;if(typeof e=="string")n=this._itemMap.get(e);else if(typeof e=="number")n=this._items[e];else throw new h("collection-get-invalid-arg: Index or id must be given.",this);return n||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const n=this._idProperty,i=e[n];return this._itemMap.has(i)}}getIndex(e){let n;return typeof e=="string"?n=this._itemMap.get(e):n=e,this._items.indexOf(n)}remove(e){let n,i,r,s=!1;const o=this._idProperty;if(typeof e=="string"?(i=e,r=this._itemMap.get(i),s=!r,r&&(n=this._items.indexOf(r))):typeof e=="number"?(n=e,r=this._items[n],s=!r,r&&(i=r[o])):(r=e,i=r[o],n=this._items.indexOf(r),s=n==-1||!this._itemMap.get(i)),s)throw new h("collection-remove-404: Item not found.",this);this._items.splice(n,1),this._itemMap.delete(i);const a=this._bindToInternalToExternalMap.get(r);return this._bindToInternalToExternalMap.delete(r),this._bindToExternalToInternalMap.delete(a),this.fire("remove",r,n),r}map(e,n){return this._items.map(e,n)}find(e,n){return this._items.find(e,n)}filter(e,n){return this._items.filter(e,n)}clear(){for(this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);this.length;)this.remove(0)}bindTo(e){if(this._bindToCollection)throw new h("collection-bind-to-rebind: The collection cannot be bound more than once.",this);return this._bindToCollection=e,{as:n=>{this._setUpBindToBinding(i=>new n(i))},using:n=>{typeof n=="function"?this._setUpBindToBinding(i=>n(i)):this._setUpBindToBinding(i=>i[n])}}}_setUpBindToBinding(e){const n=this._bindToCollection,i=(r,s,o)=>{const a=n._bindToCollection==this,c=n._bindToInternalToExternalMap.get(s);if(a&&c)this._bindToExternalToInternalMap.set(s,c),this._bindToInternalToExternalMap.set(c,s);else{const l=e(s);if(!l){this._skippedIndexesFromExternal.push(o);return}let p=o;for(const u of this._skippedIndexesFromExternal)o>u&&p--;for(const u of n._skippedIndexesFromExternal)p>=u&&p++;this._bindToExternalToInternalMap.set(s,l),this._bindToInternalToExternalMap.set(l,s),this.add(l,p);for(let u=0;u<n._skippedIndexesFromExternal.length;u++)p<=n._skippedIndexesFromExternal[u]&&n._skippedIndexesFromExternal[u]++}};for(const r of n)i(null,r,n.getIndex(r));this.listenTo(n,"add",i),this.listenTo(n,"remove",(r,s,o)=>{const a=this._bindToExternalToInternalMap.get(s);a&&this.remove(a),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((c,l)=>(o<l&&c.push(l-1),o>l&&c.push(l),c),[])})}_getItemIdBeforeAdding(e){const n=this._idProperty;let i;if(n in e){if(i=e[n],typeof i!="string")throw new h("collection-add-invalid-id",this);if(this.get(i))throw new h("collection-add-item-already-exists",this)}else e[n]=i=jt();return i}[Symbol.iterator](){return this._items[Symbol.iterator]()}}w(dt,$);/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class nn extends dt{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(n,i,r)=>{this._renderViewIntoCollectionParent(i,r)}),this.on("remove",(n,i)=>{i.element&&this._parentElement&&i.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const n of this)this._renderViewIntoCollectionParent(n)}delegate(...e){if(!e.length||!Zo(e))throw new h("ui-viewcollection-delegate-wrong-events: All event names must be strings.",this);return{to:n=>{for(const i of this)for(const r of e)i.delegate(r).to(n);this.on("add",(i,r)=>{for(const s of e)r.delegate(s).to(n)}),this.on("remove",(i,r)=>{for(const s of e)r.stopDelegating(s,n)})}}}_renderViewIntoCollectionParent(e,n){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[n])}}function Zo(t){return t.every(e=>typeof e=="string")}/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function st(t){if(t){if(t.defaultView)return t instanceof t.defaultView.Document;if(t.ownerDocument&&t.ownerDocument.defaultView)return t instanceof t.ownerDocument.defaultView.Node}return!1}/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Qo="http://www.w3.org/1999/xhtml";class L{constructor(e){Object.assign(this,Te(ve(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData=Ee(),this._renderNode({node:e,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new h("ui-template-revert-not-applied: Attempting to revert a template which has not been applied yet.",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){function*e(n){if(n.children)for(const i of n.children)ot(i)?yield i:zt(i)&&(yield*e(i))}yield*e(this)}static bind(e,n){return{to(i,r){return new ta({eventNameOrFunction:i,attribute:i,observable:e,emitter:n,callback:r})},if(i,r,s){return new rn({observable:e,emitter:n,attribute:i,valueIfTrue:r,callback:s})}}}static extend(e,n){if(e._isRendered)throw new h("template-extend-render: Attempting to extend a template which has already been rendered.",[this,e]);cn(e,Te(ve(n)))}_renderNode(e){let n;if(e.node?n=this.tag&&this.text:n=this.tag?this.text:!this.text,n)throw new h('ui-template-wrong-syntax: Node definition must have either "tag" or "text" when rendering a new Node.',this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let n=e.node;return n||(n=e.node=document.createElementNS(this.ns||Qo,this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),n}_renderText(e){let n=e.node;return n?e.revertData.text=n.textContent:n=e.node=document.createTextNode(""),tt(this.text)?this._bindToObservable({schema:this.text,updater:na(n),data:e}):n.textContent=this.text.join(""),n}_renderAttributes(e){let n,i,r,s;if(!this.attributes)return;const o=e.node,a=e.revertData;for(n in this.attributes)if(r=o.getAttribute(n),i=this.attributes[n],a&&(a.attributes[n]=r),s=C(i[0])&&i[0].ns?i[0].ns:null,tt(i)){const c=s?i[0].value:i;a&&Ae(n)&&c.unshift(r),this._bindToObservable({schema:c,updater:ia(o,n,s),data:e})}else n=="style"&&typeof i[0]!="string"?this._renderStyleAttribute(i[0],e):(a&&r&&Ae(n)&&i.unshift(r),i=i.map(c=>c&&(c.value||c)).reduce((c,l)=>c.concat(l),[]).reduce(an,""),B(i)||o.setAttributeNS(s,n,i))}_renderStyleAttribute(e,n){const i=n.node;for(const r in e){const s=e[r];tt(s)?this._bindToObservable({schema:[s],updater:ra(i,r),data:n}):i.style[r]=s}}_renderElementChildren(e){const n=e.node,i=e.intoFragment?document.createDocumentFragment():n,r=e.isApplying;let s=0;for(const o of this.children)if(Wt(o)){if(!r){o.setParent(n);for(const a of o)i.appendChild(a.element)}}else if(ot(o))r||(o.isRendered||o.render(),i.appendChild(o.element));else if(st(o))i.appendChild(o);else if(r){const a=e.revertData,c=Ee();a.children.push(c),o._renderNode({node:i.childNodes[s++],isApplying:!0,revertData:c})}else i.appendChild(o.render());e.intoFragment&&n.appendChild(i)}_setUpListeners(e){if(this.eventListeners)for(const n in this.eventListeners){const i=this.eventListeners[n].map(r=>{const[s,o]=n.split("@");return r.activateDomEventListener(s,o,e)});e.revertData&&e.revertData.bindings.push(i)}}_bindToObservable({schema:e,updater:n,data:i}){const r=i.revertData;sn(e,n,i);const s=e.filter(o=>!B(o)).filter(o=>o.observable).map(o=>o.activateAttributeListener(e,n,i));r&&r.bindings.push(s)}_revertTemplateFromNode(e,n){for(const i of n.bindings)for(const r of i)r();if(n.text){e.textContent=n.text;return}for(const i in n.attributes){const r=n.attributes[i];r===null?e.removeAttribute(i):e.setAttribute(i,r)}for(let i=0;i<n.children.length;++i)this._revertTemplateFromNode(e.childNodes[i],n.children[i])}}w(L,$);class q{constructor(e){Object.assign(this,e)}getValue(e){const n=this.observable[this.attribute];return this.callback?this.callback(n,e):n}activateAttributeListener(e,n,i){const r=()=>sn(e,n,i);return this.emitter.listenTo(this.observable,"change:"+this.attribute,r),()=>{this.emitter.stopListening(this.observable,"change:"+this.attribute,r)}}}class ta extends q{activateDomEventListener(e,n,i){const r=(s,o)=>{(!n||o.target.matches(n))&&(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(o):this.observable.fire(this.eventNameOrFunction,o))};return this.emitter.listenTo(i.node,e,r),()=>{this.emitter.stopListening(i.node,e,r)}}}class rn extends q{getValue(e){const n=super.getValue(e);return B(n)?!1:this.valueIfTrue||!0}}function tt(t){return t?(t.value&&(t=t.value),Array.isArray(t)?t.some(tt):t instanceof q):!1}function ea(t,e){return t.map(n=>n instanceof q?n.getValue(e):n)}function sn(t,e,{node:n}){let i=ea(t,n);t.length==1&&t[0]instanceof rn?i=i[0]:i=i.reduce(an,""),B(i)?e.remove():e.set(i)}function na(t){return{set(e){t.textContent=e},remove(){t.textContent=""}}}function ia(t,e,n){return{set(i){t.setAttributeNS(n,e,i)},remove(){t.removeAttributeNS(n,e)}}}function ra(t,e){return{set(n){t.style[e]=n},remove(){t.style[e]=null}}}function ve(t){return Uo(t,n=>{if(n&&(n instanceof q||zt(n)||ot(n)||Wt(n)))return n})}function Te(t){if(typeof t=="string"?t=aa(t):t.text&&ca(t),t.on&&(t.eventListeners=oa(t.on),delete t.on),!t.text){t.attributes&&sa(t.attributes);const e=[];if(t.children)if(Wt(t.children))e.push(t.children);else for(const n of t.children)zt(n)||ot(n)||st(n)?e.push(n):e.push(new L(n));t.children=e}return t}function sa(t){for(const e in t)t[e].value&&(t[e].value=[].concat(t[e].value)),on(t,e)}function oa(t){for(const e in t)on(t,e);return t}function aa(t){return{text:[t]}}function ca(t){Array.isArray(t.text)||(t.text=[t.text])}function on(t,e){Array.isArray(t[e])||(t[e]=[t[e]])}function an(t,e){return B(e)?t:B(t)?e:`${t} ${e}`}function xe(t,e){for(const n in e)t[n]?t[n].push(...e[n]):t[n]=e[n]}function cn(t,e){if(e.attributes&&(t.attributes||(t.attributes={}),xe(t.attributes,e.attributes)),e.eventListeners&&(t.eventListeners||(t.eventListeners={}),xe(t.eventListeners,e.eventListeners)),e.text&&t.text.push(...e.text),e.children&&e.children.length){if(t.children.length!=e.children.length)throw new h("ui-template-extend-children-mismatch: The number of children in extended definition does not match.",t);let n=0;for(const i of e.children)cn(t.children[n++],i)}}function B(t){return!t&&t!==0}function ot(t){return t instanceof bt}function zt(t){return t instanceof L}function Wt(t){return t instanceof nn}function Ee(){return{children:[],bindings:[],attributes:{}}}function Ae(t){return t=="class"||t=="style"}/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function at(t){const e=Object.prototype.toString.apply(t);return e=="[object Window]"||e=="[object global]"}/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const pt=lt({},$,{listenTo(t,...e){if(st(t)||at(t)){const n=this._getProxyEmitter(t)||new Pt(t);n.attach(...e),t=n}$.listenTo.call(this,t,...e)},stopListening(t,e,n){if(st(t)||at(t)){const i=this._getProxyEmitter(t);if(!i)return;t=i}$.stopListening.call(this,t,e,n),t instanceof Pt&&t.detach(e)},_getProxyEmitter(t){return mn(this,ln(t))}});class Pt{constructor(e){$e(this,ln(e)),this._domNode=e}}lt(Pt.prototype,$,{attach(t,e,n={}){if(this._domListeners&&this._domListeners[t])return;const i=this._createDomListener(t,!!n.useCapture);this._domNode.addEventListener(t,i,!!n.useCapture),this._domListeners||(this._domListeners={}),this._domListeners[t]=i},detach(t){let e;this._domListeners[t]&&(!(e=this._events[t])||!e.callbacks.length)&&this._domListeners[t].removeListener()},_createDomListener(t,e){const n=i=>{this.fire(t,i)};return n.removeListener=()=>{this._domNode.removeEventListener(t,n,e),delete this._domListeners[t]},n}});function ln(t){return t["data-ck-expando"]||(t["data-ck-expando"]=jt())}/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class bt{constructor(e){this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new dt,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(n,i)=>{i.locale=e}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=L.bind(this,this)}createCollection(e){const n=new nn(e);return this._viewCollections.add(n),n}registerChild(e){Ot(e)||(e=[e]);for(const n of e)this._unboundChildren.add(n)}deregisterChild(e){Ot(e)||(e=[e]);for(const n of e)this._unboundChildren.remove(n)}setTemplate(e){this.template=new L(e)}extendTemplate(e){L.extend(this.template,e)}render(){if(this.isRendered)throw new h("ui-view-render-already-rendered: This View has already been rendered.",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}w(bt,pt);w(bt,k);/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Y=navigator.userAgent.toLowerCase();la(Y),ha(Y),ua(Y),fa(Y),da();function la(t){return t.indexOf("macintosh")>-1}function ha(t){return!!t.match(/gecko\/\d+/)}function ua(t){return t.indexOf(" applewebkit/")>-1&&t.indexOf("chrome")===-1}function fa(t){return t.indexOf("android")>-1}function da(){let t=!1;try{t="ć".search(new RegExp("[\\p{L}]","u"))===0}catch{}return t}/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const J=ba();function $t(t){let e;if(typeof t=="string"){if(e=J[t.toLowerCase()],!e)throw new h("keyboard-unknown-key: Unknown key name.",null,{key:t})}else e=t.keyCode+(t.altKey?J.alt:0)+(t.ctrlKey?J.ctrl:0)+(t.shiftKey?J.shift:0);return e}function pa(t){return typeof t=="string"&&(t=ga(t)),t.map(e=>typeof e=="string"?$t(e):e).reduce((e,n)=>n+e,0)}function ba(){const t={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,cmd:1114112,shift:2228224,alt:4456448};for(let e=65;e<=90;e++){const n=String.fromCharCode(e);t[n.toLowerCase()]=e}for(let e=48;e<=57;e++)t[e-48]=e;for(let e=112;e<=123;e++)t["f"+(e-111)]=e;return t}function ga(t){return t.split(/\s*\+\s*/)}/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class hn{constructor(){this.set("isFocused",!1),this.set("focusedElement",null),this._elements=new Set,this._nextEventLoopTimeout=null}add(e){if(this._elements.has(e))throw new h("focusTracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(e),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}w(hn,pt);w(hn,k);/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const gt={window,document};/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class _a{constructor(){this._listener=Object.create(pt)}listenTo(e){this._listener.listenTo(e,"keydown",(n,i)=>{this._listener.fire("_keydown:"+$t(i),i)})}set(e,n,i={}){const r=pa(e),s=i.priority;this._listener.listenTo(this._listener,"_keydown:"+r,(o,a)=>{n(a,()=>{a.preventDefault(),a.stopPropagation(),o.stop()}),o.return=!0},{priority:s})}press(e){return!!this._listener.fire("_keydown:"+$t(e),e)}destroy(){this._listener.stopListening()}}/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ya extends dt{constructor(e){super(e),this.set("isEmpty",!0)}add(e,n){this.find(i=>i.color===e.color)||(super.add(e,n),this.set("isEmpty",!1))}remove(e){const n=super.remove(e);return this.length===0&&this.set("isEmpty",!0),n}hasColor(e){return!!this.find(n=>n.color===e)}}w(ya,k);/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ma{constructor(e,n){n&&lt(this,n),e&&this.set(e)}}w(ma,k);/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function wa(t){return Object.prototype.toString.apply(t)=="[object Range]"}/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function un(t){const e=t.ownerDocument.defaultView.getComputedStyle(t);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function va(t){return Object.prototype.toString.call(t)=="[object Text]"}/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const fn=["top","right","bottom","left","width","height"];class g{constructor(e){const n=wa(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),tn(e)||n)n?Z(this,g.getDomRangeRects(e)[0]):Z(this,e.getBoundingClientRect());else if(at(e)){const{innerWidth:i,innerHeight:r}=e;Z(this,{top:0,right:i,bottom:r,left:0,width:i,height:r})}else Z(this,e)}clone(){return new g(this)}moveTo(e,n){return this.top=n,this.right=e+this.width,this.bottom=n+this.height,this.left=e,this}moveBy(e,n){return this.top+=n,this.right+=e,this.left+=e,this.bottom+=n,this}getIntersection(e){const n={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left)};return n.width=n.right-n.left,n.height=n.bottom-n.top,n.width<0||n.height<0?null:new g(n)}getIntersectionArea(e){const n=this.getIntersection(e);return n?n.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let n=this.clone();if(!Ce(e)){let i=e.parentNode||e.commonAncestorContainer;for(;i&&!Ce(i);){const r=new g(i),s=n.getIntersection(r);if(s)s.getArea()<n.getArea()&&(n=s);else return null;i=i.parentNode}}return n}isEqual(e){for(const n of fn)if(this[n]!==e[n])return!1;return!0}contains(e){const n=this.getIntersection(e);return!!(n&&n.isEqual(e))}excludeScrollbarsAndBorders(){const e=this._source;let n,i,r;if(at(e))n=e.innerWidth-e.document.documentElement.clientWidth,i=e.innerHeight-e.document.documentElement.clientHeight,r=e.getComputedStyle(e.document.documentElement).direction;else{const s=un(this._source);n=e.offsetWidth-e.clientWidth-s.left-s.right,i=e.offsetHeight-e.clientHeight-s.top-s.bottom,r=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=s.left,this.top+=s.top,this.right-=s.right,this.bottom-=s.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=n,r==="ltr"?this.right-=n:this.left+=n,this.height-=i,this.bottom-=i,this}static getDomRangeRects(e){const n=[],i=Array.from(e.getClientRects());if(i.length)for(const r of i)n.push(new g(r));else{let r=e.startContainer;va(r)&&(r=r.parentNode);const s=new g(r.getBoundingClientRect());s.right=s.left,s.width=0,n.push(s)}return n}}function Z(t,e){for(const n of fn)t[n]=e[n]}function Ce(t){return tn(t)?t===t.ownerDocument.body:!1}/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ta(t){return!t||!t.parentNode||t.offsetParent===gt.document.body?null:t.offsetParent}/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function xa({element:t,target:e,positions:n,limiter:i,fitInViewport:r}){et(e)&&(e=e()),et(i)&&(i=i());const s=Ta(t),o=new g(t),a=new g(e);let c,l;if(!i&&!r)[l,c]=St(n[0],a,o);else{const u=i&&new g(i).getVisible(),v=r&&new g(gt.window);[l,c]=Ea(n,{targetRect:a,elementRect:o,limiterRect:u,viewportRect:v})||St(n[0],a,o)}let p=dn(c);return s&&(p=Ca(p,s)),{left:p.left,top:p.top,name:l}}function St(t,e,n){const i=t(e,n);if(!i)return null;const{left:r,top:s,name:o}=i;return[o,n.clone().moveTo(r,s)]}function Ea(t,e){const{elementRect:n,viewportRect:i}=e,r=n.getArea(),s=Aa(t,e);if(i){const o=s.filter(({viewportIntersectArea:c})=>c===r),a=Oe(o,r);if(a)return a}return Oe(s,r)}function Aa(t,{targetRect:e,elementRect:n,limiterRect:i,viewportRect:r}){const s=[],o=n.getArea();for(const a of t){const c=St(a,e,n);if(!c)continue;const[l,p]=c;let u=0,v=0;if(i)if(r){const X=i.getIntersection(r);X&&(u=X.getIntersectionArea(p))}else u=i.getIntersectionArea(p);r&&(v=r.getIntersectionArea(p));const m={positionName:l,positionRect:p,limiterIntersectArea:u,viewportIntersectArea:v};if(u===o)return[m];s.push(m)}return s}function Oe(t,e){let n=0,i,r;for(const{positionName:s,positionRect:o,limiterIntersectArea:a,viewportIntersectArea:c}of t){if(a===e)return[s,o];const l=c**2+a**2;l>n&&(n=l,i=o,r=s)}return i?[r,i]:null}function Ca({left:t,top:e},n){const i=dn(new g(n)),r=un(n);return t-=i.left,e-=i.top,t+=n.scrollLeft,e+=n.scrollTop,t-=r.left,e-=r.top,{left:t,top:e}}function dn({left:t,top:e}){const{scrollX:n,scrollY:i}=gt.window;return{left:t+n,top:e+i}}/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class G extends bt{constructor(e,n,i){super(e);const r=this.bindTemplate;this.buttonView=n,this.panelView=i,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class"),this.set("id"),this.set("panelPosition","auto"),this.keystrokes=new _a,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",r.to("class"),r.if("isEnabled","ck-disabled",s=>!s)],id:r.to("id"),"aria-describedby":r.to("ariaDescribedById")},children:[n,i]}),n.extendTemplate({attributes:{class:["ck-dropdown__button"]}})}render(){super.render(),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",()=>{this.isOpen&&(this.panelPosition==="auto"?this.panelView.position=G._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelView.position=this.panelPosition)}),this.keystrokes.listenTo(this.element);const e=(n,i)=>{this.isOpen&&(this.buttonView.focus(),this.isOpen=!1,i())};this.keystrokes.set("arrowdown",(n,i)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,i())}),this.keystrokes.set("arrowright",(n,i)=>{this.isOpen&&i()}),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:e,southWest:n,northEast:i,northWest:r}=G.defaultPanelPositions;return this.locale.uiLanguageDirection==="ltr"?[e,n,i,r]:[n,e,r,i]}}G.defaultPanelPositions={southEast:t=>({top:t.bottom,left:t.left,name:"se"}),southWest:(t,e)=>({top:t.bottom,left:t.left-e.width+t.width,name:"sw"}),northEast:(t,e)=>({top:t.top-e.height,left:t.left,name:"ne"}),northWest:(t,e)=>({top:t.bottom-e.height,left:t.left-e.width+t.width,name:"nw"})};G._getOptimalPosition=xa;/**
 * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Pe=100;class Oa{constructor(e){this._callback=e,this._elements=new Set,this._previousRects=new Map,this._periodicCheckTimeout=null}observe(e){this._elements.add(e),this._checkElementRectsAndExecuteCallback(),this._elements.size===1&&this._startPeriodicCheck()}unobserve(e){this._elements.delete(e),this._previousRects.delete(e),this._elements.size||this._stopPeriodicCheck()}_startPeriodicCheck(){const e=()=>{this._checkElementRectsAndExecuteCallback(),this._periodicCheckTimeout=setTimeout(e,Pe)};this.listenTo(gt.window,"resize",()=>{this._checkElementRectsAndExecuteCallback()}),this._periodicCheckTimeout=setTimeout(e,Pe)}_stopPeriodicCheck(){clearTimeout(this._periodicCheckTimeout),this.stopListening(),this._previousRects.clear()}_checkElementRectsAndExecuteCallback(){const e=[];for(const n of this._elements)this._hasRectChanged(n)&&e.push({target:n,contentRect:this._previousRects.get(n)});e.length&&this._callback(e)}_hasRectChanged(e){if(!e.ownerDocument.body.contains(e))return!1;const n=new g(e),i=this._previousRects.get(e),r=!i||!i.isEqual(n);return this._previousRects.set(e,n),r}}w(Oa,pt)});export default Pa();
